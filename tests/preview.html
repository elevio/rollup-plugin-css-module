<!doctype html>
<html>
  <head>
  </head>
  <body id="scopeMe">
    <p class="_7zcdw">This is an example client's website.</p>
    <script>  

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (factory());
}(this, function () { 'use strict';

  (function insert(css, className) {
    var styleElement = document.createElement('style');
    styleElement.className = className;
    styleElement.setAttribute('type', 'text/css');
    document.querySelector('head').appendChild(styleElement);
    if (styleElement.styleSheet) {
      styleElement.styleSheet.cssText = css;
    } else {
      styleElement.textContent = css;
    }
  })("#scopeMe ._7zcdw{border-color:#bf4040;font-family:helvetica}#scopeMe ._qaw47{color:#1f4f7f}.ignoreThisClass{color:blue}#scopeMe ._1bwdr{margin:15px}", 'css-module');
    
  var styles = {"primary":"#bf4040","secondary":"#1f4f7f","button":"_7zcdw","headingColor":"_qaw47","redHeading":"_6xi3w _qaw47","margin":"_16y9d _1bwdr","ignoreThisClass":"ignoreThisClass"};

  var className = 'css-module';
  function init() {
    throw Error('css-module has no init method when opts.insertStyle === iife.');
  }
  function terminate() {
    var elems = document.getElementsByClassName('' + className);
    Array.prototype.forEach.call(elems, function (elem) {
      elem.parentNode.removeChild(elem);
    });
  }
  function getCSS(selector) {
    var elem = document.getElementsByClassName('' + className);
    if (!elem || !elem[0] || !elem[0].sheet) return null;
    var selectors = elem[0].sheet.rules || elem[0].sheet.cssRules;
    return Array.prototype.reduce.call(selectors, function (acc, item) {
      var inc = '';
      if (item.selectorText.indexOf(selector) > -1) {
        if (item.cssText) {
          inc = item.cssText;
        } else {
          inc = item.style.cssText;
        }
      }
      return acc + inc;
    }, '');
    // let acc = '';
    // for (let i = 0; i < classes.length; i++) {
    //   if (classes[i].selectorText.indexOf(selector) > -1) {
    //     if (classes[i].cssText) {
    //       acc += classes[i].cssText;
    //     } else {
    //       acc += classes[i].style.cssText;
    //     }
    //   }
    // }
    // return acc;
  }

  var a = function a() {
    var button = document.createElement('button');
    button.className = styles.button;
    document.body.appendChild(button);

    var div = document.createElement('div');
    div.className = styles.margin;
    document.body.appendChild(div);
  };

  // prevent tree shaking
  // init();
  console.log(getCSS(styles.button));
  // terminate();
  // a();

}));
    </script>
  </body>
</html>